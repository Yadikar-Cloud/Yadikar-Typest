<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="description" content="An online typing tutor for modern web browsers.">
  <title> Yadikar Typing Practice </title>
	<link rel="icon" type="image/png" href="keyboard.png" sizes="48x48">
  <script type="module" src="x-keyboard-master/main.js"></script>
  <script src="./webtypist.js" type="text/javascript" defer></script>
  <link href="./webtypist.css" type="text/css" rel="stylesheet">
</head>
<script type="text/javascript" src="multilang.js"></script>
<script type="text/javascript">
	var multilang;
	
	function onLoad() {
		// create object, load JSON file, default to 'nl', and callback to initList when ready loading
		//multilang = new MultiLang('languages.json', 'nl', this.initList);
		
		// alternatively
		multilang = new MultiLang('languages.json', null, this.initList); // default to browser language
		//multilang = new MultiLang('languages.json'); // only load JSON, no callback
	}

	function langSelectChange(sel) {
		// switch to selected language code
		multilang.setLanguage(sel.value);
		
		// refresh labels
		refreshLabels();
		// adjust text direction
		adjustDirection();
	}

	function initList() {
		// get language list element
		var layout = document.getElementById("layout");
		langSelectChange(layout);
	}
			
	function refreshLabels() {

		// Basically do the following for all document elements:
		//document.getElementById("Options").textContent = multilang.get("Options");

		// loop through all document elements
		var allnodes = document.body.getElementsByClassName("translate");

		for (var i=0, max=allnodes.length; i < max; i++) {
			// get id current elements
			var string = allnodes[i].getAttribute("data-string");
			// if id exists, set get id current elements
			if (string != '') {
				allnodes[i].innerHTML = multilang.get(string);
			};
		};
	}
</script>
<body onload="onLoad()">
  <header id="header">
    <h1 class="translate" data-string="Title"> Yadikar Typing Practice </h1>
    <p class="translate" data-string="Description"> Your best tutor to learn typing on touch keyboard. </p>
  </header>

  <div>
    <div id="metrics">
      <span id="speed">0</span>
			<span class="translate" data-string="Unit"> cpm</span>
      <span id="accuracy">0</span>
			<span class="translate" data-string="Errors"> errors</span>
    </div>
    <form>
      <select id="layout" onchange="langSelectChange(this)">
        <option> (loading…) </option>
      </select>
      <select id="shape">
        <option value="" selected class="translate" data-string="Auto">(auto)</option>
        <option value="alt">  ALT  </option>
        <option value="abnt"> ABNT </option>
        <option value="iso">  ISO  </option>
        <option value="ansi"> ANSI </option>
        <option value="ol60"> TMx  </option>
      </select>
      <input id="hints" type="checkbox">
      <label for="hints" class="translate" data-string="Hints"> hints </label>
    </form>
    <form>
      <select id="lesson">
        <option> (loading…) </option>
      </select>
      <select id="level">
        <option value="-1"> (loading…) </option>
      </select>
    </form>
  </div>

  <div>
    <div id="hands">
      <span id="leftHand"></span>
      <span id="leftThumb"></span>
      <span id="rightThumb"></span>
      <span id="rightHand"></span>
    </div>
    <textarea id="txtPrompt" readonly></textarea>
    <textarea id="txtInput" spellcheck="false"></textarea>
  </div>

  <x-keyboard id="keyboard">
    <p>Loading web component…</p>
  </x-keyboard>

  <footer id="footer">
    <p class="translate" data-string="PoweredBy">Powered by <a href="https://www.yadikar.it/" target="_blank">Yadikar</a></p>
  </footer>
</body>
</html>
